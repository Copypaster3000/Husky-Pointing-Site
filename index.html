<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Husky Pointing ($U)</title>
  <meta name="description" content="Husky Pointing ($U) &mdash; the meme coin blowing up on TikTok." />
  <link rel="icon" href="images/memes/husky.png" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: { ink:"#0e0f13", accent:"#4f8cff" }
        }
      }
    }
  </script>
  <style>
    html,body { background:#0e0f13; color:#fff; font-family:Inter,system-ui,sans-serif; }

    /* Carousel helpers */
    .carousel-track { display:flex; transition: transform 360ms cubic-bezier(.22,.61,.36,1); will-change: transform; }
    .carousel-slide { min-width:100%; }
    .carousel-arrow {
      position:absolute; top:50%; transform:translateY(-50%);
      width:40px; height:40px; border-radius:12px;
      background: rgba(15,16,22,0.85); border:1px solid rgba(255,255,255,0.15);
      display:grid; place-items:center; cursor:pointer; user-select:none;
    }
    .carousel-arrow:hover { outline: 3px solid rgba(79,140,255,0.35); }
    .carousel-dot { width:8px; height:8px; border-radius:999px; background:rgba(255,255,255,0.35); }
    .carousel-dot[aria-current="true"] { background:#4f8cff; }

    /* â–¶ NEW: uniform slide frame + centered images (no cropping) */
    [data-carousel] .carousel-slide {
      height: clamp(320px, 80vh, 820px);
      display: grid;
      place-items: center;
      padding: 12px;
    }
    [data-carousel] .carousel-slide img {
      width: auto;         /* override w-full */
      max-width: 100%;
      height: auto;
      max-height: 100%;
      object-fit: contain; /* letterbox if needed, no overflow */
      border-radius: 0.75rem;
    }
  </style>
</head>

<body class="text-center px-4 py-12">
  <!-- Hero -->
  <h1 class="text-4xl md:text-6xl font-extrabold">
    Husky Pointing <span class="text-accent">($U)</span>
  </h1>
  <h2 class="mt-4 text-accent text-xl md:text-2xl font-semibold">
    $U will make it
  </h2>
  <p class="mt-4 text-white/80 text-lg">The meme blowing up in TikTok comments.</p>

  <!-- Meme image -->
  <div class="mt-8 flex justify-center">
    <img src="images/memes/husky.png" alt="Husky Pointing Meme" class="rounded-2xl shadow-lg max-w-md" />
  </div>

  <!-- Contract + Socials stacked -->
  <div class="mt-10 max-w-lg mx-auto space-y-6">
    <!-- Contract -->
    <div class="bg-white/5 border border-white/10 rounded-xl p-6">
      <h2 class="text-xl font-semibold">Contract Address</h2>
      <p class="mt-2 font-mono break-all text-white/80">
        AJyUufGfyHFhPefJLTpszSaajKp2cNTDQV1YDmzCpump
      </p>
    </div>

    <!-- Socials -->
    <div class="bg-white/5 border border-white/10 rounded-xl p-6">
      <h2 class="text-xl font-semibold">Socials</h2>
      <ul class="mt-3 space-y-2 text-white/80">
        <li>
          <a href="https://x.com/huskypointing" target="_blank" 
             rel="noopener noreferrer"
             class="text-accent hover:underline font-semibold">
            X (Twitter)
          </a>
        </li>
        <li>
          <a href="https://x.com/i/communities/1963712136796106760" target="_blank" 
             rel="noopener noreferrer"
             class="text-accent hover:underline font-semibold">
            X Community
          </a>
        </li>
      </ul>
    </div>
  </div>
  
  <!-- Divider -->
  <div class="mt-16 border-t border-white/10"></div>

  <!-- Memes from $U -->
  <section class="mt-16 max-w-2xl mx-auto text-center">
    <h2 class="text-3xl font-extrabold mb-8">Memes from $U</h2>

    <div class="relative overflow-hidden bg-white/5 border border-white/10 rounded-xl"
         data-carousel id="memes-carousel" data-srcdir="images/memes" aria-roledescription="carousel">
      <div class="carousel-track" data-track></div>
      <button class="carousel-arrow left-2" data-prev aria-label="Previous">&lsaquo;</button>
      <button class="carousel-arrow right-2" data-next aria-label="Next">&rsaquo;</button>
      <div class="absolute bottom-3 inset-x-0 flex items-center justify-center gap-2" data-dots></div>
    </div>
  </section>

  <!-- Divider -->
  <div class="mt-16 border-t border-white/10"></div>

  <!-- $U in the Wild -->
  <section class="mt-16 max-w-2xl mx-auto text-center">
    <h2 class="text-3xl font-extrabold mb-8">Husky Pointing $U in the Wild</h2>

    <div class="relative overflow-hidden bg-white/5 border border-white/10 rounded-xl"
         data-carousel id="wild-carousel" data-srcdir="images/examples" aria-roledescription="carousel">
      <div class="carousel-track" data-track></div>
      <button class="carousel-arrow left-2" data-prev aria-label="Previous">&lsaquo;</button>
      <button class="carousel-arrow right-2" data-next aria-label="Next">&rsaquo;</button>
      <div class="absolute bottom-3 inset-x-0 flex items-center justify-center gap-2" data-dots></div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="mt-12 text-white/60 text-sm">
    <p>Disclaimer: This is not financial advice.</p>
    <p class="mt-2">&copy; <span id="year"></span> Husky Pointing ($U)</p>
  </footer>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();

    // --- Build each carousel from its manifest.json (written by GitHub Action) ---
    async function populateFromManifest(root) {
      const dir = root.dataset.srcdir?.replace(/^\/+|\/+$/g,"");
      if (!dir) return;
      try {
        const res = await fetch(`${dir}/manifest.json`, { cache: "no-cache" });
        if (!res.ok) return;
        const files = await res.json();
        const track = root.querySelector("[data-track]");
        track.innerHTML = "";
        for (const path of files) {
          const slide = document.createElement("div");
          slide.className = "carousel-slide";
          const img = document.createElement("img");
          img.src = path;
          img.alt = "";
          img.loading = "lazy";
          img.decoding = "async";
          img.className = "w-full h-auto rounded-xl";
          slide.appendChild(img);
          track.appendChild(slide);
        }
      } catch (e) {
        console.warn("Failed to load manifest for", dir, e);
      }
    }

    // --- Minimal, reusable carousel logic ---
    function attachCarousel(root) {
      const track = root.querySelector('.carousel-track');
      const prevBtn = root.querySelector('[data-prev]');
      const nextBtn = root.querySelector('[data-next]');
      const dotsWrap = root.querySelector('[data-dots]');
      let index = 0, slides = [];

      function buildDots() {
        slides = Array.from(track.children);
        dotsWrap.innerHTML = '';
        slides.forEach((_, i) => {
          const dot = document.createElement('button');
          dot.className = 'carousel-dot';
          dot.setAttribute('aria-label', 'Go to slide ' + (i + 1));
          dot.setAttribute('aria-current', i === 0 ? 'true' : 'false');
          dot.addEventListener('click', () => goTo(i));
          dotsWrap.appendChild(dot);
        });
      }

      function update() {
        const offset = -index * root.clientWidth;
        track.style.transform = `translateX(${offset}px)`;
        Array.from(dotsWrap.children).forEach((d, i) =>
          d.setAttribute('aria-current', i === index ? 'true' : 'false')
        );
      }

      function goTo(i) { index = Math.max(0, Math.min(slides.length - 1, i)); update(); }
      const next = () => goTo(index + 1);
      const prev = () => goTo(index - 1);

      const ro = new ResizeObserver(update);
      ro.observe(root);

      nextBtn.addEventListener('click', next);
      prevBtn.addEventListener('click', prev);

      root.tabIndex = 0;
      root.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowRight') next();
        if (e.key === 'ArrowLeft')  prev();
      });

      // Drag/swipe
      let isDragging = false, startX = 0, currentX = 0;
      track.addEventListener('pointerdown', (e) => {
        isDragging = true; startX = e.clientX; currentX = startX;
        track.setPointerCapture(e.pointerId);
      });
      track.addEventListener('pointermove', (e) => {
        if (!isDragging) return;
        currentX = e.clientX;
        const dx = currentX - startX;
        const base = -index * root.clientWidth;
        track.style.transform = `translateX(${base + dx}px)`;
      });
      function endDrag() {
        if (!isDragging) return;
        isDragging = false;
        const dx = currentX - startX;
        const threshold = root.clientWidth * 0.15;
        if (dx > threshold) prev();
        else if (dx < -threshold) next();
        else update();
      }
      track.addEventListener('pointerup', endDrag);
      track.addEventListener('pointercancel', endDrag);

      // Init
      buildDots();
      update();
    }

    // --- Boot: populate from manifests, then attach carousels ---
    (async function boot(){
      const sections = document.querySelectorAll('[data-carousel][data-srcdir]');
      for (const sec of sections) { await populateFromManifest(sec); }
      sections.forEach(attachCarousel);
    })();
  </script>
</body>
</html>

